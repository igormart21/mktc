{% extends 'base.html' %}
{% load static %}

{% block title %}Editar Pedido #{{ pedido.id }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Editar Pedido #{{ pedido.id }}</h5>
                    <form method="post">
                        {% csrf_token %}
                        <div class="mb-3">
                            <label for="nome_propriedade" class="form-label">Nome da Propriedade</label>
                            <input type="text" class="form-control" id="nome_propriedade" name="nome_propriedade" value="{{ pedido.nome_propriedade }}" required>
                        </div>
                        <div class="mb-3">
                            <label for="cnpj" class="form-label">CNPJ</label>
                            <input type="text" class="form-control" id="cnpj" name="cnpj" value="{{ pedido.cnpj }}" required>
                        </div>
                        <div class="mb-3">
                            <label for="hectares" class="form-label">Hectares</label>
                            <input type="number" step="0.01" class="form-control" id="hectares" name="hectares" value="{{ pedido.hectares }}" required>
                        </div>
                        <div class="mb-3">
                            <label for="cultivo_principal" class="form-label">Cultivo Principal</label>
                            <select class="form-select" id="cultivo_principal" name="cultivo_principal" required>
                                {% comment %} As opções estão fixas já que podem vir de diferentes modelos {% endcomment %}
                                <option value="soja" {% if pedido.cultivo_principal == 'soja' %}selected{% endif %}>Soja</option>
                                <option value="milho" {% if pedido.cultivo_principal == 'milho' %}selected{% endif %}>Milho</option>
                                <option value="cafe" {% if pedido.cultivo_principal == 'cafe' %}selected{% endif %}>Café</option>
                                <option value="cana" {% if pedido.cultivo_principal == 'cana' %}selected{% endif %}>Cana-de-açúcar</option>
                                <option value="algodao" {% if pedido.cultivo_principal == 'algodao' %}selected{% endif %}>Algodão</option>
                                <option value="outros" {% if pedido.cultivo_principal == 'outros' %}selected{% endif %}>Outros</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="estado" class="form-label">Estado</label>
                            <input type="text" class="form-control" id="estado" name="estado" value="{{ pedido.estado }}" required>
                        </div>
                        <div class="mb-3">
                            <label for="cidade" class="form-label">Cidade</label>
                            <input type="text" class="form-control" id="cidade" name="cidade" value="{{ pedido.cidade }}" required>
                        </div>
                        <div class="mb-3">
                            <label for="endereco" class="form-label">Endereço</label>
                            <input type="text" class="form-control" id="endereco" name="endereco" value="{{ pedido.endereco }}" required>
                        </div>
                        <div class="mb-3">
                            <label for="cep" class="form-label">CEP</label>
                            <input type="text" class="form-control" id="cep" name="cep" value="{{ pedido.cep }}" required>
                        </div>
                        <div class="mb-3">
                            <label for="referencia" class="form-label">Referência</label>
                            <input type="text" class="form-control" id="referencia" name="referencia" value="{{ pedido.referencia }}">
                        </div>
                        <div class="mb-3">
                            <label for="observacoes" class="form-label">Observações</label>
                            <textarea class="form-control" id="observacoes" name="observacoes" rows="3">{{ pedido.observacoes }}</textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                        <a href="{% url 'vendas:meus_pedidos' %}" class="btn btn-secondary">Cancelar</a>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 